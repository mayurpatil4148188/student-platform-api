# =====================================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# Copy this file to .env and update with your values
# NEVER commit .env to version control
# =====================================================

# -----------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------
APP_NAME="Student Platform API"
APP_ENV=development  # Options: development, staging, production
DEBUG=False  # Set to True only in development
SECRET_KEY=change-this-secret-key-in-production-use-strong-random-string
API_VERSION=v1

# -----------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------
# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:1234@localhost:5432/student_platform_db

# Database pool settings (optional, defaults are usually fine)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
SQLALCHEMY_ECHO=False  # Set to True to log all SQL statements (debugging only)

# -----------------------------------------------------
# SECURITY & AUTHENTICATION
# -----------------------------------------------------
# Basic API Key Authentication
API_KEY=your-api-key-here-change-in-production

# JWT Settings (if implementing user auth later)
JWT_SECRET_KEY=another-secret-key-for-jwt
JWT_ACCESS_TOKEN_EXPIRES=3600  # 1 hour in seconds
JWT_REFRESH_TOKEN_EXPIRES=2592000  # 30 days in seconds

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:5000
CORS_ALLOW_CREDENTIALS=True
CORS_MAX_AGE=3600

# Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=100/hour  # Format: "number/interval"
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1  # Use Redis for distributed rate limiting

# -----------------------------------------------------
# REDIS CONFIGURATION (Optional but recommended)
# -----------------------------------------------------
REDIS_URL=redis://localhost:6379/0
CACHE_TYPE=redis  # Options: simple, redis, memcached
CACHE_DEFAULT_TIMEOUT=300  # 5 minutes
CACHE_KEY_PREFIX=student_platform_

# -----------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=10
LOG_FORMAT=json  # Options: json, text

# Sentry Error Tracking (Optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# -----------------------------------------------------
# API SETTINGS
# -----------------------------------------------------
# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
DEFAULT_SORT_ORDER=desc

# Request Limits
MAX_CONTENT_LENGTH=16777216  # 16MB max request size
REQUEST_TIMEOUT=30  # seconds

# -----------------------------------------------------
# SWAGGER/OPENAPI DOCUMENTATION
# -----------------------------------------------------
SWAGGER_ENABLED=True
SWAGGER_URL=/api/docs
SWAGGER_UI_JSONEDITOR=True
SWAGGER_UI_DOC_EXPANSION=list  # Options: none, list, full
API_SPEC_OPTIONS_SECURITY=apikey

# -----------------------------------------------------
# EXTERNAL SERVICES (if needed)
# -----------------------------------------------------
# Email Service
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_DEFAULT_SENDER=noreply@studentplatform.com

# Webhook URLs (if implementing notifications)
WEBHOOK_URL=
WEBHOOK_SECRET=

# -----------------------------------------------------
# MONITORING & METRICS
# -----------------------------------------------------
PROMETHEUS_ENABLED=False
PROMETHEUS_PORT=9090
METRICS_ENABLED=True

# Application Performance Monitoring
APM_ENABLED=False
APM_SERVICE_NAME=student-platform-api
APM_SERVER_URL=

# -----------------------------------------------------
# DEVELOPMENT SETTINGS
# -----------------------------------------------------
# Flask Debug Toolbar (development only)
DEBUG_TB_ENABLED=False
DEBUG_TB_INTERCEPT_REDIRECTS=False
DEBUG_TB_PROFILER_ENABLED=False

# Testing
TESTING=False
TEST_DATABASE_URL=postgresql://postgres:1234@localhost:5432/student_platform_test_db

# -----------------------------------------------------
# PRODUCTION SETTINGS
# -----------------------------------------------------
# Server Configuration (for production deployment)
HOST=0.0.0.0
PORT=5003
WORKERS=4  # Number of Gunicorn workers
THREADS=2  # Threads per worker
WORKER_CLASS=sync  # Options: sync, gevent, eventlet
WORKER_TIMEOUT=120

# SSL/TLS (production only)
SSL_DISABLE=True  # Set to False in production with HTTPS
SESSION_COOKIE_SECURE=False  # Set to True with HTTPS
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# -----------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------
FEATURE_BULK_OPERATIONS=True
FEATURE_EXPORT_DATA=True
FEATURE_ADVANCED_SEARCH=True
FEATURE_WEBHOOKS=False
FEATURE_EMAIL_NOTIFICATIONS=False

# -----------------------------------------------------
# BUSINESS LOGIC SETTINGS
# -----------------------------------------------------
# Status Weight Configuration (do not change unless requirements change)
STATUS_WEIGHT_BUILDING=1
STATUS_WEIGHT_SUBMITTED=2
STATUS_WEIGHT_OFFER_RECEIVED=3
STATUS_WEIGHT_OFFER_ACCEPTED=4
STATUS_WEIGHT_VISA_APPROVED=5
STATUS_WEIGHT_DROPPED=0

# Intake Date Format
INTAKE_DATE_FORMAT="%b %Y"  # e.g., "Jan 2026"

# -----------------------------------------------------
# NOTES
# -----------------------------------------------------
# 1. Always use strong, random values for SECRET_KEY and API_KEY
# 2. Never commit the actual .env file to version control
# 3. In production, consider using a secrets management service
# 4. Rotate keys and passwords regularly
# 5. Use different databases for development, testing, and production